@if (product) {
  <div class="product-detail-container">
    <div class="header-bar">
      <h2 class="product-title">{{ product.name }}</h2>
      <button mat-flat-button color="primary" (click)="openEditDialog()">
        <mat-icon>edit</mat-icon>
        Update
      </button>
    </div>

    <mat-card class="product-main-card">
      <div class="product-main">

        <!-- Image Carousel on the Left -->
        <div class="product-image-carousel">
          <div class="carousel-track">
            <img
              *ngFor="let img of product.images"
              class="product-image"
              [src]="img"
              [alt]="product.name"
            />
          </div>
        </div>

        <!-- Price/Info on the Right -->
        <div class="product-info">
          <div class="price-section">
            <span class="price">{{ product.price | currency }}</span>
            @if (product.originalPrice > product.price) {
              <span class="original-price">{{ product.originalPrice | currency }}</span>
            }
          </div>
        </div>

      </div>
    </mat-card>


    @if (product.sizes && product.sizes.length) {
      <mat-card class="size-card">
        <mat-card-title>Sizes</mat-card-title>
        <mat-card-content>
          <div class="size-list" style="display:flex; gap:8px; flex-wrap:wrap;">
            <button
              mat-stroked-button
              *ngFor="let size of product.sizes"
              type="button"
            >
              {{ size }}
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    }
    
    <div class="product-details">
      @for (item of product.details; track item.title) {
        <mat-card class="detail-card">
          <mat-card-title>{{ item.title }}</mat-card-title>
          <mat-card-content>
            <p>{{ item.content }}</p>
          </mat-card-content>
        </mat-card>
      }
    </div>
  </div>
} @else {
  <p>Loading...</p>
}